"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.removeGraph = exports.applyGraph = void 0;

const applyGraph = (entry, graph) => {
  const isArrayElse = ({
    type
  }) => type === '@else/list+object';

  if (!Array.isArray(entry._graph)) {
    entry._graph = graph;
  } else if (graph.find(isArrayElse)) {
    graph.splice(graph.findIndex(isArrayElse), 1, ...entry._graph.slice(0, -1));
    entry._graph = graph;
  }

  return entry;
};

exports.applyGraph = applyGraph;

const removeGraph = entry => {
  delete entry._graph;
  return entry;
};

exports.removeGraph = removeGraph;